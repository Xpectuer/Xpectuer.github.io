---
layout: post
title: "红黑树小抄"
tags: algorithm tree
categories: algorithm
author: noobi
date: 2021-01-16
---
# 红黑树小抄

### 写在前面

算法分析课 期末考红黑树也是没谁了...

~~不过不幸中的万幸是应该只考插入，~~

我就在这打个小抄，大家就当考前热个身

### 红黑树的性质

1. 是一颗BST（不会BST请自行查阅）
2. 根节点是黑色，节点要么是红色要么是黑色
3. 假设所有叶子结点是nil，则任意子树任意路径到达nil的黑色节点个数相同
4. 所有叶子结点都是nil，并且是黑色
5. 红节点不与红节点邻接，即如果某个节点是红色，其子节点一定是黑色（nil也是黑色）

### 红黑树的插入

#### 前导知识

- BST的旋转操作
- BST的插入操作

待插入的节点一开始设为红色

我们根据BST的性质找到叶子结点的位置插入

>  叔叔节点：我们称当前节点的**父节点**的**兄弟节点**为**叔叔节点**

我们把**指针**指向<font color='red'>待插入节点</font>， 讨论<font color='red'>待插入节点</font>几种情况：

1. 父节点是**黑色**，很幸运，直接插入。

2. 当前没有节点，直接插入，并把节点染成**黑色**

3. 父节点是<font color='red'>红色</font>

   1. 叔叔节点是<font color='red'>红色</font>

      - 把当前节点的 <font color='red'>父节点</font>与<font color='red'>叔叔节点</font>染成**黑色**

      - 指针指向当前节点的<font color='green'>祖父节点</font>并将祖父节点染成<font color='red'>红色</font>

   2. 叔叔节点是**黑色**

      1. LL
         - 右旋当前**指针节点**
         - 交换**指针节点**与**右子节点**的颜色
      2. LR
         - 左旋转化为LL
         - do LL
      3. RR
         - 左旋当前**指针节点**
         - 交换**指针节点**与**左子节点**的颜色
      4. RL
         - 右旋转化为RR
         - do RR

### 复杂度

这里打个小抄，不做证明

>  插入、查找、删除的时间复杂度只与**红黑树的高度**有关

$height = 2log(N+1) \rightarrow O(logN)$

证明的思路大概就是：

- 首先忽略**黑节点**，计算只有<font color='red'>红节点</font>的树的高度
- 忽略<font color='red'>红节点</font>，计算只有**黑节点**的树的高度
- 把两个高度加起来就是红黑树的高度
